<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Happy Theme</title>
    <style>
        body.theme-active {
            background: linear-gradient(120deg, #FFDEE9, #B5FFFC, #FFF6BD, #FFD1DC);
            background-size: 200% 200%;
            animation: happyMove 12s ease-in-out infinite;
        }

        @keyframes happyMove {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        #theme-animation-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }

        /* Floating emoji hearts */
        .emoji {
            position: absolute;
            font-size: 18px;
            animation: emojiFloat 5s ease-in-out forwards;
        }

        @keyframes emojiFloat {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            50% {
                transform: translateY(-40px) scale(1.3);
                opacity: 0.85;
            }

            100% {
                transform: translateY(-90px) scale(1);
                opacity: 0;
            }
        }

        /* Glow bubbles */
        .glow {
            position: absolute;
            border-radius: 50%;
            filter: blur(14px);
            opacity: 0.5;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.05));
            animation: glowFloat 7s ease-in-out forwards;
        }

        @keyframes glowFloat {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.55;
            }

            50% {
                transform: translateY(-45vh) scale(1.1);
                opacity: 0.7;
            }

            100% {
                transform: translateY(-100vh) scale(1.2);
                opacity: 0;
            }
        }

        /* Falling leaves */
        .leaf {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            opacity: 0.9;
            animation: leafFall linear forwards;
        }

        @keyframes leafFall {
            0% {
                transform: translateY(-5vh) rotate(0deg);
                opacity: 0.9;
            }

            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>

<body>

    <div id="theme-animation-container"></div>

    <script>
        window.__themeIntervals = window.__themeIntervals || [];

        const emojis = ["ðŸ˜„", "ðŸ˜Š", "ðŸ¥°", "ðŸ˜‡", "ðŸ¤©"];
        const leafColors = ["#FF6F91", "#FF9671", "#FFC75F", "#F9F871", "#A1EAFB", "#B28DFF", "#F6A6FF"];

        function startTheme() {
            stopTheme(); // ensure previous theme stopped
            document.body.classList.add('theme-active');

            const container = document.getElementById('theme-animation-container');
            container.style.display = 'block';

            function createEmoji() {
                const el = document.createElement('div');
                el.className = 'emoji';
                el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                el.style.left = Math.random() * 100 + 'vw';
                el.style.fontSize = (16 + Math.random() * 20) + 'px';
                el.style.animationDuration = (4 + Math.random() * 2) + 's';
                container.appendChild(el);
                setTimeout(() => el.remove(), 5000);
            }

            function createGlow() {
                const el = document.createElement('div');
                el.className = 'glow';
                const size = 40 + Math.random() * 100;
                el.style.width = el.style.height = size + 'px';
                el.style.left = Math.random() * 100 + 'vw';
                el.style.top = Math.random() * 100 + 'vh';
                el.style.animationDuration = (5 + Math.random() * 3) + 's';
                container.appendChild(el);
                setTimeout(() => el.remove(), 8000);
            }

            function createLeaf() {
                const el = document.createElement('div');
                el.className = 'leaf';
                const size = 15 + Math.random() * 20;
                el.style.width = el.style.height = size + 'px';
                el.style.left = Math.random() * 100 + 'vw';
                el.style.background = leafColors[Math.floor(Math.random() * leafColors.length)];
                el.style.animationDuration = (6 + Math.random() * 4) + 's';
                container.appendChild(el);
                setTimeout(() => el.remove(), 10000);
            }

            window.__themeIntervals.push(setInterval(createEmoji, 600));
            window.__themeIntervals.push(setInterval(createGlow, 1200));
            window.__themeIntervals.push(setInterval(createLeaf, 800));

            createEmoji();
            createGlow();
            createLeaf();
        }

        function stopTheme() {
            window.__themeIntervals.forEach(i => clearInterval(i));
            window.__themeIntervals = [];

            const container = document.getElementById('theme-animation-container');
            container.innerHTML = '';
            container.style.display = 'none';
            document.body.classList.remove('theme-active');
        }
    </script>

</body>

</html>